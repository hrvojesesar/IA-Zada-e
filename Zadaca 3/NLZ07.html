<pre><font color="#007f69">breed</font><font color="#000000"> [predators predator]<br /></font><font color="#660096">breed</font><font color="#000000"> [preys prey] </font><font color="#5a5a5a">; Changed &quot;plijens&quot; to &quot;preys&quot;</font><font color="#000000"><br /><br /></font><font color="#007f69">globals</font><font color="#000000"> [border-x border-y borderheading flag x-pos y-pos]<br /><br /></font><font color="#007f69">to</font><font color="#000000"> setup<br />  </font><font color="#0000aa">clear-all</font><font color="#000000"><br />  </font><font color="#0000aa">clear-output</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> flag </font><font color="#963700">true</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> border-x </font><font color="#963700">-8</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> border-y </font><font color="#963700">-6</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> borderheading </font><font color="#963700">90</font><font color="#000000"><br /><br />  create-predators </font><font color="#963700">1</font><font color="#000000"><br />  [<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;arrow&quot;</font><font color="#000000"><br />    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#963700">-8</font><font color="#000000"> </font><font color="#963700">-6</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#963700">90</font><font color="#000000"><br />  ]<br />  create-preys </font><font color="#963700">3</font><font color="#000000"><br />  [<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000"><br />    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000"><br />  ]<br />  </font><font color="#0000aa">reset-ticks</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> go<br />  </font><font color="#0000aa">ask</font><font color="#000000"> predators [predator-walk]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> preys [prey-walk]<br />  reproduce-agents<br />  </font><font color="#0000aa">tick</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> predator-walk<br />  </font><font color="#0000aa">let</font><font color="#000000"> nearby-preys preys </font><font color="#660096">in-radius</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"><br /><br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> nearby-preys [<br />    </font><font color="#0000aa">set</font><font color="#000000"> flag </font><font color="#963700">false</font><font color="#000000"><br />    </font><font color="#0000aa">let</font><font color="#000000"> target </font><font color="#660096">one-of</font><font color="#000000"> nearby-preys<br />    </font><font color="#0000aa">face</font><font color="#000000"> target<br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">distance</font><font color="#000000"> target </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">1.5</font><font color="#000000"> [<br />      </font><font color="#0000aa">ask</font><font color="#000000"> target [<br />        </font><font color="#0000aa">die</font><font color="#000000"><br />      ]<br />    ]<br />    [<br />      </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    ]<br />  ]<br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> nearby-preys </font><font color="#660096">and</font><font color="#000000"> flag </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">false</font><font color="#000000"> [<br />    </font><font color="#0000aa">facexy</font><font color="#000000"> border-x border-y<br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">distancexy</font><font color="#000000"> border-x border-y) </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [<br />      </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    ]<br />    [<br />      </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#660096">distancexy</font><font color="#000000"> border-x border-y<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> borderheading<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000"> border-x<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> border-y<br />      </font><font color="#0000aa">set</font><font color="#000000"> flag </font><font color="#963700">true</font><font color="#000000"><br />    ]<br />  ]<br /><br />  </font><font color="#0000aa">if</font><font color="#000000"> flag </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">true</font><font color="#000000"> [<br />    </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">8</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">-6</font><font color="#000000">) [<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"><br />    ]<br />    </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">8</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">6</font><font color="#000000">) [<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#963700">270</font><font color="#000000"><br />    ]<br />    </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">-8</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">6</font><font color="#000000">) [<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#963700">180</font><font color="#000000"><br />    ]<br />    </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">-8</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">-6</font><font color="#000000">) [<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#963700">90</font><font color="#000000"><br />    ]<br />    </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> border-x </font><font color="#660096">xcor</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> border-y </font><font color="#660096">ycor</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> borderheading </font><font color="#660096">heading</font><font color="#000000"><br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> prey-walk<br />  </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">mod</font><font color="#000000"> </font><font color="#963700">5</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [<br />    </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"> </font><font color="#5a5a5a">; rotate the agent</font><font color="#000000"><br />  ]<br />  </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> reproduce-agents<br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"> [<br />    create-preys </font><font color="#963700">1</font><font color="#000000"> [<br />      </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000"><br />    ]<br />  ]<br /></font><font color="#007f69">end</font>
</pre>
